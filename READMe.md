# æ™ºèƒ½æ—…æ¸¸è§„åˆ’è½¯ä»¶

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€æ¬¾æ™ºèƒ½æ—…æ¸¸è§„åˆ’è½¯ä»¶ï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›å…¨çƒèŒƒå›´å†…çš„ä¸ªæ€§åŒ–æ—…æ¸¸è§„åˆ’æœåŠ¡ã€‚é¡¹ç›®ç¬¬ä¸€é˜¶æ®µå°†ä¸“æ³¨äºæ–°åŠ å¡æ—…æ¸¸è§„åˆ’ï¼Œæ¶µç›–äº¤é€šã€ä½å®¿ã€é¥®é£Ÿã€æ™¯ç‚¹ã€èŠ±è´¹ç­‰å…¨æ–¹ä½æ—…æ¸¸éœ€æ±‚ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½è¡Œç¨‹è§„åˆ’
- **ä¸ªæ€§åŒ–æ¨è**: åŸºäºç”¨æˆ·åå¥½ã€é¢„ç®—ã€æ—¶é—´ç­‰å› ç´ 
- **è·¯çº¿ä¼˜åŒ–**: æœ€ä¼˜åŒ–æ™¯ç‚¹æ¸¸è§ˆé¡ºåºå’Œäº¤é€šè·¯çº¿
- **æ—¶é—´ç®¡ç†**: åˆç†åˆ†é…å„æ™¯ç‚¹æ¸¸è§ˆæ—¶é—´

### 2. å…­å¤§æ ¸å¿ƒæ¨¡å—

#### ğŸš— äº¤é€šæ¨¡å—
- å®æ—¶èˆªç­ä¿¡æ¯æŸ¥è¯¢å’Œé¢„è®¢
- æœ¬åœ°äº¤é€šï¼ˆåœ°é“ã€å…¬äº¤ã€æ‰“è½¦ï¼‰è§„åˆ’
- äº¤é€šè´¹ç”¨é¢„ç®—å’Œæ¯”è¾ƒ
- å®æ—¶äº¤é€šçŠ¶å†µå’Œæœ€ä¼˜è·¯çº¿

#### ğŸ¨ ä½å®¿æ¨¡å—  
- é…’åº—/æ°‘å®¿æœç´¢å’Œæ¯”ä»·
- åŸºäºä½ç½®çš„ä½å®¿æ¨è
- ç”¨æˆ·è¯„ä»·å’Œè®¾æ–½å¯¹æ¯”
- ä»·æ ¼è¶‹åŠ¿åˆ†æ

#### ğŸ½ï¸ é¥®é£Ÿæ¨¡å—
- å½“åœ°ç¾é£Ÿæ¨è
- é¤å…è¯„ä»·å’Œé¢„è®¢
- ç‰¹è‰²èœå“ä»‹ç»
- ä»·æ ¼åŒºé—´ç­›é€‰

#### ğŸ›ï¸ æ™¯ç‚¹æ¨¡å—
- çƒ­é—¨æ™¯ç‚¹ä¿¡æ¯å’Œå¼€æ”¾æ—¶é—´
- é—¨ç¥¨ä»·æ ¼å’Œé¢„è®¢
- ç”¨æˆ·è¯„ä»·å’Œæ¸¸ç©æ”»ç•¥
- ä¸ªæ€§åŒ–å…´è¶£åŒ¹é…

#### ğŸ’° èŠ±è´¹æ¨¡å—
- å…¨ç¨‹è´¹ç”¨é¢„ç®—è§„åˆ’
- å®æ—¶æ±‡ç‡è½¬æ¢
- æ¶ˆè´¹è®°å½•å’Œåˆ†æ
- çœé’±å»ºè®®å’Œä¼˜åŒ–

#### â° æ—¶é—´ç®¡ç†æ¨¡å—
- **ä¸ªäººæ—¶é—´åå¥½è®¾ç½®**: ç”¨æˆ·å¯è®¾ç½®æ¯æ—¥èµ·åºŠæ—¶é—´ã€ä¼‘æ¯æ—¶é—´ã€æ´»åŠ¨èŠ‚å¥
- **æ—¶é—´æ®µåˆ’åˆ†**: ä¸Šåˆ/ä¸‹åˆ/æ™šä¸Šæ—¶é—´å—è‡ªå®šä¹‰åˆ†é…
- **æ´»åŠ¨æ—¶é•¿ä¼°ç®—**: åŸºäºæ™¯ç‚¹ç±»å‹å’Œç”¨æˆ·åå¥½æ™ºèƒ½é¢„ä¼°æ¸¸è§ˆæ—¶é—´
- **ç¼“å†²æ—¶é—´ç®¡ç†**: è‡ªåŠ¨æ·»åŠ äº¤é€šå’Œä¼‘æ¯ç¼“å†²æ—¶é—´
- **æ—¶é—´å†²çªæ£€æµ‹**: è‡ªåŠ¨æ£€æµ‹å’Œè§£å†³è¡Œç¨‹æ—¶é—´å†²çª
- **çµæ´»åº¦è°ƒæ•´**: ç´§å‡‘å‹/èˆ’é€‚å‹/ä¼‘é—²å‹è¡Œç¨‹èŠ‚å¥é€‰æ‹©
- **å®æ—¶æ—¶é—´è·Ÿè¸ª**: è®°å½•å®é™…ç”¨æ—¶ï¼Œä¼˜åŒ–åç»­è§„åˆ’
- **æ—¶åŒºç®¡ç†**: å¤šæ—¶åŒºæ—…è¡Œçš„æ—¶é—´æ¢ç®—å’Œè°ƒæ•´

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React/Vue.js + TypeScript
- **UIåº“**: Ant Design / Material-UI
- **åœ°å›¾**: Google Maps API / Mapbox
- **çŠ¶æ€ç®¡ç†**: Redux/Zustand
- **æ„å»ºå·¥å…·**: Vite/Webpack

### åç«¯æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Node.js + TypeScript / Python
- **æ¡†æ¶**: Express.js / FastAPI
- **æ•°æ®åº“**: PostgreSQL + Redis
- **ORM**: Prisma / SQLAlchemy
- **APIæ–‡æ¡£**: Swagger/OpenAPI

### æ ¸å¿ƒAPIé›†æˆ

#### åœ°å›¾å’Œä½ç½®æœåŠ¡
- **Google Maps Platform**
  - Places API (æ™¯ç‚¹æœç´¢)
  - Directions API (è·¯çº¿è§„åˆ’)
  - Distance Matrix API (è·ç¦»è®¡ç®—)
- **Mapbox** (åœ°å›¾å¯è§†åŒ–)

#### äº¤é€šæœåŠ¡
- **Skyscanner API** (èˆªç­æœç´¢)
- **Rome2rio API** (å¤šæ¨¡å¼äº¤é€š)
- **æ–°åŠ å¡LTA API** (æœ¬åœ°äº¤é€šå®æ—¶ä¿¡æ¯)
- **Grab API** (æœ¬åœ°æ‰“è½¦æœåŠ¡)

#### ä½å®¿æœåŠ¡
- **Booking.com API**
- **Airbnb API** (å¦‚å¯ç”¨)
- **Agoda API**
- **Hotels.com API**

#### é¤é¥®å’Œæ™¯ç‚¹
- **Foursquare API** (é¤å…å’Œæ™¯ç‚¹)
- **Yelp API** (è¯„ä»·å’Œæ¨è)
- **TripAdvisor API**
- **Zomato API** (é¤é¥®)

#### é‡‘èæœåŠ¡
- **ExchangeRate-API** (æ±‡ç‡)
- **Open Exchange Rates** (å®æ—¶æ±‡ç‡)

## æ•°æ®æ¨¡å‹è®¾è®¡

### ç”¨æˆ·ç›¸å…³
```typescript
interface User {
  id: string;
  name: string;
  preferences: TravelPreferences;
  budget: Budget;
  travelHistory: Trip[];
}

interface TravelPreferences {
  interests: string[];
  budgetLevel: 'budget' | 'mid' | 'luxury';
  travelStyle: 'relaxed' | 'packed' | 'adventure';
  dietary: string[];
  timePreferences: TimePreferences;
}

interface TimePreferences {
  wakeUpTime: string;           // èµ·åºŠæ—¶é—´ "07:00"
  bedTime: string;              // ç¡è§‰æ—¶é—´ "22:00" 
  mealTimes: {
    breakfast: string;          // æ—©é¤æ—¶é—´ "08:00"
    lunch: string;              // åˆé¤æ—¶é—´ "12:00"
    dinner: string;             // æ™šé¤æ—¶é—´ "18:00"
  };
  paceLevel: 'compact' | 'comfortable' | 'leisurely';  // è¡Œç¨‹èŠ‚å¥
  restInterval: number;         // ä¼‘æ¯é—´éš”(åˆ†é’Ÿ)
  maxDailyHours: number;        // æ¯æ—¥æœ€å¤§æ´»åŠ¨æ—¶é•¿
  bufferTime: number;           // ç¼“å†²æ—¶é—´(åˆ†é’Ÿ)
}
```

### è§„åˆ’ç›¸å…³
```typescript
interface Trip {
  id: string;
  destination: string;
  startDate: Date;
  endDate: Date;
  travelers: number;
  budget: Budget;
  itinerary: DayPlan[];
  totalCost: Cost;
}

interface DayPlan {
  date: Date;
  activities: Activity[];
  accommodation: Accommodation;
  transportation: Transportation[];
  meals: Meal[];
  dailyCost: Cost;
  schedule: DaySchedule;
}

interface DaySchedule {
  startTime: string;            // å½“æ—¥å¼€å§‹æ—¶é—´
  endTime: string;              // å½“æ—¥ç»“æŸæ—¶é—´
  timeSlots: TimeSlot[];        // æ—¶é—´æ®µå®‰æ’
  totalActiveTime: number;      // æ€»æ´»åŠ¨æ—¶é•¿(åˆ†é’Ÿ)
  totalRestTime: number;        // æ€»ä¼‘æ¯æ—¶é•¿(åˆ†é’Ÿ)
  flexibility: number;          // çµæ´»åº¦è¯„åˆ† 0-10
}

interface TimeSlot {
  id: string;
  startTime: string;            // å¼€å§‹æ—¶é—´ "09:00"
  endTime: string;              // ç»“æŸæ—¶é—´ "11:30"
  duration: number;             // æ—¶é•¿(åˆ†é’Ÿ)
  type: 'activity' | 'meal' | 'transportation' | 'rest';
  content: Activity | Meal | Transportation | RestPeriod;
  priority: 'high' | 'medium' | 'low';
  isFlexible: boolean;          // æ˜¯å¦å¯è°ƒæ•´æ—¶é—´
}

interface Activity {
  id: string;
  name: string;
  location: Location;
  estimatedDuration: number;    // é¢„ä¼°æ—¶é•¿(åˆ†é’Ÿ)
  actualDuration?: number;      // å®é™…æ—¶é•¿(åˆ†é’Ÿ)
  category: string;
  priority: number;
  timeRequirements?: {
    preferredStartTime?: string;  // é¦–é€‰å¼€å§‹æ—¶é—´
    mustFinishBy?: string;        // å¿…é¡»å®Œæˆæ—¶é—´
    minDuration: number;          // æœ€çŸ­æ—¶é•¿
    maxDuration: number;          // æœ€é•¿æ—¶é•¿
  };
}
```

## å¼€å‘é˜¶æ®µè§„åˆ’

### Phase 1: åŸºç¡€æ¶æ„æ­å»º (2-3å‘¨)
- é¡¹ç›®åˆå§‹åŒ–å’ŒæŠ€æœ¯é€‰å‹ç¡®è®¤
- æ•°æ®åº“è®¾è®¡å’ŒAPIæ¶æ„
- åŸºç¡€ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- æ ¸å¿ƒAPIé›†æˆæ¡†æ¶

### Phase 2: æ ¸å¿ƒåŠŸèƒ½å¼€å‘ (4-6å‘¨)
- æ–°åŠ å¡æ™¯ç‚¹æ•°æ®åº“å»ºè®¾
- æ™ºèƒ½è§„åˆ’ç®—æ³•å¼€å‘
- å…­å¤§æ¨¡å—åŸºç¡€åŠŸèƒ½å®ç°
  - æ—¶é—´ç®¡ç†å’Œè°ƒåº¦ç®—æ³•
  - æ—¶é—´å†²çªæ£€æµ‹å’Œè§£å†³
  - ä¸ªæ€§åŒ–æ—¶é—´åå¥½ç³»ç»Ÿ
- APIæ•°æ®æ•´åˆå’Œå¤„ç†

### Phase 3: ç”¨æˆ·ç•Œé¢å¼€å‘ (3-4å‘¨)
- å“åº”å¼Webç•Œé¢
- åœ°å›¾é›†æˆå’Œå¯è§†åŒ–
- ç”¨æˆ·äº¤äº’å’Œä½“éªŒä¼˜åŒ–
- ç§»åŠ¨ç«¯é€‚é…

### Phase 4: æµ‹è¯•å’Œä¼˜åŒ– (2-3å‘¨)
- åŠŸèƒ½æµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒæµ‹è¯•
- APIè°ƒç”¨ä¼˜åŒ–å’Œé”™è¯¯å¤„ç†
- æ•°æ®å‡†ç¡®æ€§éªŒè¯

### Phase 5: éƒ¨ç½²å’Œæ‰©å±• (1-2å‘¨)
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
- ä¸ºå…¶ä»–åŸå¸‚æ‰©å±•åšå‡†å¤‡

## é¡¹ç›®æ–‡ä»¶ç»“æ„

```
æ™ºèƒ½æ—…æ¸¸è§„åˆ’/
â”œâ”€â”€ frontend/                 # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TimeManager/  # æ—¶é—´ç®¡ç†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Schedule/     # æ—¥ç¨‹å®‰æ’ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ Timeline/     # æ—¶é—´è½´ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ timeService.ts  # æ—¶é—´ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ timeUtils.ts  # æ—¶é—´å¤„ç†å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ scheduleUtils.ts # æ—¥ç¨‹ç®—æ³•å·¥å…·
â”‚   â”‚   â””â”€â”€ types/           # TypeScriptç±»å‹
â”œâ”€â”€ backend/                  # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â””â”€â”€ scheduleController.ts  # æ—¶é—´è°ƒåº¦æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ scheduleService.ts     # æ—¶é—´è°ƒåº¦æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ timeOptimizer.ts       # æ—¶é—´ä¼˜åŒ–ç®—æ³•
â”‚   â”‚   â”‚   â””â”€â”€ conflictResolver.ts    # å†²çªè§£å†³æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ routes/          # è·¯ç”±
â”œâ”€â”€ database/                 # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ migrations/          # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ seeds/               # æµ‹è¯•æ•°æ®
â”‚   â””â”€â”€ schemas/             # æ•°æ®åº“æ¨¡å¼
â”œâ”€â”€ docs/                     # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ tests/                    # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ deployment/               # éƒ¨ç½²é…ç½®
```

## æˆåŠŸæŒ‡æ ‡

1. **åŠŸèƒ½å®Œæ•´æ€§**: è¦†ç›–æ–°åŠ å¡ä¸»è¦æ—…æ¸¸éœ€æ±‚çš„90%ä»¥ä¸Š
2. **æ•°æ®å‡†ç¡®æ€§**: APIæ•°æ®å®æ—¶æ€§è¾¾åˆ°95%ä»¥ä¸Š
3. **ç”¨æˆ·ä½“éªŒ**: é¡µé¢åŠ è½½æ—¶é—´<3ç§’ï¼Œæ“ä½œå“åº”<1ç§’
4. **æˆæœ¬ä¼˜åŒ–**: ä¸ºç”¨æˆ·èŠ‚çœ20%ä»¥ä¸Šæ—…æ¸¸è´¹ç”¨
5. **æ‰©å±•æ€§**: æ¶æ„æ”¯æŒå¿«é€Ÿæ‰©å±•åˆ°å…¶ä»–åŸå¸‚

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. ç¡®è®¤æŠ€æœ¯é€‰å‹å’Œå¼€å‘ç¯å¢ƒ
2. ç”³è¯·å„é¡¹APIæœåŠ¡è´¦æˆ·
3. æ­å»ºå¼€å‘ç¯å¢ƒå’ŒåŸºç¡€é¡¹ç›®ç»“æ„
4. å¼€å§‹æ•°æ®åº“è®¾è®¡å’ŒAPIæ¶æ„å¼€å‘
